<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <!-- <script src="script.js"></script> -->
    <!-- <link rel="icon" type="image/x-icon" href="/imgs/rock-paper-scissors.ico"> -->
    <link rel="shortcut icon" href="imgs/rock-paper-scissors.ico" />
    <title>Rock Paper Scissors</title>
</head>

<body>
    <div class="score"></div>
    <div class="container">
        <img src="imgs/rocks.png" id="rock" alt="rock">
        <img src="imgs/paper.png" id="paper" alt="paper">
        <img src="imgs/scissors.png" id="scissors" alt="scissors">
    </div>
    <div class="result"></div>
    <div class="winner"></div>

    <script>


let rock=document.querySelector('#rock');
let paper=document.querySelector('#paper');
let scissors=document.querySelector('#scissors');

let result=document.querySelector('.result');
let score=document.querySelector('.score');
let winner=document.querySelector('.winner');

rock.addEventListener('click',()=>{
   result.textContent=  playRound("rock",getComputerChoice());
   updateEverything();
})

paper.addEventListener('click',()=>{
    result.textContent=playRound("paper",getComputerChoice());
    updateEverything();
})

scissors.addEventListener('click',()=>{
    result.textContent=playRound("scissors",getComputerChoice());
    updateEverything();
})

function updateEverything(){

    winner.setAttribute('style','display:none');
    CalculateScore(result.textContent);
   score.textContent=`computer  ${computerScore}:${playerScore} you`;
}

function getComputerChoice() {
    let num = Math.floor(Math.random() * 3);
    switch (num) {
        case 0:
            return "rock";
            break;
        case 1:
            return "paper";
            break;
        case 2:
            return "scissors";
            break;

    }
}

let playerScore=0;
let computerScore=0;

function playRound(playerSelection, computerSelection) {
    playerSelection = playerSelection.toLowerCase();
    switch (playerSelection) {
        case "rock":
            {
                switch (computerSelection) {
                    case "rock":
                        return "draw!";
                        break;
                    case "paper":
                        return "you lost!"
                        break;
                    case "scissors":
                        return "you won!"
                        break;
                }
            }
            break;
        case "paper":
            {
                switch (computerSelection) {
                    case "rock":
                        return "you won!";
                        break;
                    case "paper":
                        return "draw!"
                        break;
                    case "scissors":
                        return "you lost!"
                        break;
                }
            }
            break;
        case "scissors":
            {
                switch (computerSelection) {
                    case "rock":
                        return "you lost!";
                        break;
                    case "paper":
                        return "you won!"
                        break;
                    case "scissors":
                        return "draw!"
                        break;
                }
            }
            break;
        default:
            return "enter a valid shit";
    }
}

function CalculateScore(result){
    if(result=="you lost!") computerScore++;
    else if (result=="you won!") playerScore++;

    if(playerScore===5||computerScore===5) {
        winner.setAttribute('style','display:block')
        if(playerScore===5) winner.textContent= "you won this round!";
        else winner.textContent= "computer won this round!";

        playerScore=0;
        computerScore=0;
    }
}
    </script>
</body>

</html>